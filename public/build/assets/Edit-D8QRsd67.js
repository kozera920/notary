import{q as i,W as b,y as n,j as e,Y as j,a as v}from"./app-BZPrvwDB.js";import{M as y}from"./MainLayout-EqO4-vJ-.js";import{T as _,D}from"./TrashedMessage-DpbD-zQ8.js";import{L as N}from"./LoadingButton-CJ4JGZyv.js";import{T as w}from"./TextInput-CK7cWdWs.js";import{S as u}from"./SelectInput-CPDNhYhT.js";import{F as d}from"./FieldGroup-q9e-zh90.js";import"./index-d7fpKqF1.js";import"./trash-2-DdVdcAVP.js";const S=()=>{const{update:t,documents:l}=i().props,{data:o,setData:r,errors:a,put:m,processing:c}=b({status:t.status||"",message:t.message||"",document_id:t.document_id||""}),p=[{value:"pending",label:"Pending"},{value:"notarized",label:"Notatized"},{value:"decline",label:"Declined"}];function g(s){s.preventDefault(),m(route("updates.update",t.id))}function x(){confirm("Are you sure you want to delete this update?")&&n.delete(route("updates.destroy",t.id))}function h(){confirm("Are you sure you want to restore this update?")&&n.put(route("updates.restore",t.id))}const{auth:f}=i().props;if(!f.user.owner){n.get(route("dashboard"));return}return e.jsxs("div",{children:[e.jsx(j,{title:`${o.status}`}),e.jsxs("h1",{className:"mb-8 text-3xl font-bold",children:[e.jsx(v,{href:route("updates"),className:"text-indigo-600 hover:text-indigo-700",children:"Updates"}),e.jsx("span",{className:"mx-2 font-medium text-indigo-600",children:"/"}),o.status]}),t.deleted_at&&e.jsx(_,{message:"This update has been deleted.",onRestore:h}),e.jsx("div",{className:"max-w-3xl overflow-hidden bg-white rounded shadow",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"grid gap-8 p-8 lg:grid-cols-2",children:[e.jsx(d,{label:"Document",name:"document_id",error:a.document_id,children:e.jsx(u,{name:"document_id",error:a.document_id,value:o.document_id,onChange:s=>r("document_id",s.target.value),options:[{value:"",label:""},...l.map(s=>({value:String(s.id),label:s.document_name}))]})}),e.jsx(d,{label:"Status",name:"status",error:a.status,children:e.jsx(u,{name:"status",error:a.status,value:o.status,onChange:s=>r("status",s.target.value),options:[{value:"",label:""},...p]})}),e.jsx(d,{label:"Message",name:"message",error:a.message,children:e.jsx(w,{name:"postal_code",error:a.message,value:o.message,onChange:s=>r("message",s.target.value)})})]}),e.jsxs("div",{className:"flex items-center px-8 py-4 bg-gray-100 border-t border-gray-200",children:[!t.deleted_at&&e.jsx(D,{onDelete:x,children:"Delete Update"}),e.jsx(N,{loading:c,type:"submit",className:"ml-auto btn-indigo",children:"Update Update"})]})]})})]})};S.layout=t=>e.jsx(y,{children:t});export{S as default};
